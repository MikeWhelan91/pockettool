@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Tokens ===== */
:root{
  --brand: 222 89% 56%;
  --brand-contrast: 0 0% 100%;

  --bg: 0 0% 100%;
  --card: 210 20% 98%;
  --elev: 210 20% 97%;

  --text: 224 15% 12%;
  --muted: 225 8% 40%;

  --line: 220 14% 90%;
  --ring: 222 89% 56%;

  --radius: 14px;
}

.theme-dark{
  --bg: 222 15% 10%;
  --card: 222 15% 12%;
  --elev: 222 14% 14%;

  --text: 220 15% 95%;
  --muted: 220 10% 70%;

  --line: 220 10% 22%;
  --ring: 222 80% 62%;
}

/* ===== Base ===== */
html,body{ height:100%; background:hsl(var(--bg)); color:hsl(var(--text));
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
:root{ --font-sans:"IBM Plex Sans",system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
       --font-mono:"JetBrains Mono",ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
body{ font-family:var(--font-sans); }
code,pre{ font-family:var(--font-mono); }
*,*::before,*::after{ box-sizing:border-box; }
a{ text-underline-offset:3px; }

/* ===== Utilities ===== */
.border-line{ border-color:hsl(var(--line)); }
.text-muted{ color:hsl(var(--muted)); }
.bg-card{ background:hsl(var(--card)); }
.bg-elev{ background:hsl(var(--elev)); }
/* globals.css – make existing .container-wrap actually center */
.container-wrap{ max-width:1160px; width:100%; margin-left:auto; margin-right:auto; }

/* Reusable brand gradient (keep for footer) */
.brand-gradient{ background-image:linear-gradient(to bottom,#1e3a8a 0%,#2563eb 45%,#3b82f6 100%); }

/* ===== Components ===== */
.card{
  background:hsl(var(--card));
  border:1px solid hsl(var(--line));
  border-radius:var(--radius);
  box-shadow:0 6px 22px rgba(0,0,0,0.06);
}
.card--flat{
  background:hsl(var(--card));
  border:1px solid hsl(var(--line));
  border-radius:var(--radius);
  box-shadow:0 2px 10px rgba(0,0,0,0.04);
}

/* Header action (legacy, still used in some places) */
.header-action{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:10px 14px; border-radius:12px;
  color:#fff; border:1px solid rgba(255,255,255,.55);
  background:rgba(255,255,255,.10);
  backdrop-filter: blur(4px);
  text-decoration:none;
  transition: background .15s ease, transform .05s ease, border-color .15s ease;
}
.header-action:hover{ background:rgba(255,255,255,.16); border-color:rgba(255,255,255,.75); }
.header-action:active{ transform: translateY(1px); }

/* NEW: compact header action (for neutral navbar) */
.header-action--sm{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:6px 10px; border-radius:10px;
  color:hsl(var(--text));
  border:1px solid hsl(var(--line));
  background:hsl(var(--card) / .55);
  backdrop-filter: blur(6px);
  font-size:.9rem; line-height:1;
  text-decoration:none;
  transition: background .15s ease, transform .05s ease, border-color .15s ease;
}
.header-action--sm:hover{ background:hsl(var(--card) / .75); }
.header-action--sm:active{ transform: translateY(1px); }

/* --- Header controls (hamburger + theme) --- */
.icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px;            /* mobile size */
  border:1px solid hsl(var(--line));
  border-radius:12px;
  background:hsl(var(--card));
  color:hsl(var(--text));
}
@media (min-width: 768px){
  .icon-btn{ width:40px; height:40px; }
}

/* Theme toggle chip */
.theme-chip{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:8px 10px;                    /* compact on mobile */
  border:1px solid hsl(var(--line));
  border-radius:999px;
  background:hsl(var(--card));
  color:hsl(var(--text));
  line-height:1;
}
@media (min-width:768px){
  .theme-chip{ padding:10px 14px; }
}
.theme-chip__label{ font-size:.9rem; }
@media (max-width:767px){
  /* hide label on mobile, keep icon-only */
  .theme-chip__label{ display:none; }
}

/* hero backdrops — only one visible per theme */
.hero-dark { display: none; }
.hero-light { display: block; }

.theme-dark .hero-dark { display: block; }
.theme-dark .hero-light { display: none; }


/* Buttons */
.btn{
  @apply inline-flex items-center justify-center text-sm font-medium;
  padding:10px 14px; border-radius:calc(var(--radius) - 6px);
  background:hsl(var(--brand)); color:hsl(var(--brand-contrast));
  transition:filter .15s ease, transform .05s ease; text-decoration:none;
}
.btn:hover{
  background: hsl(var(--brand)) !important;
  color: hsl(var(--brand-contrast)) !important;
  filter:none; box-shadow:0 6px 18px rgba(59,130,246,.30);
}
.btn:active{ transform:translateY(1px); }

.btn-ghost{
  @apply inline-flex items-center justify-center text-sm;
  padding:10px 14px; border-radius:calc(var(--radius) - 6px);
  border:1px solid hsl(var(--line)); background:transparent; color:hsl(var(--text));
  text-decoration:none; transition: background .15s ease, border-color .15s ease;
}
.btn-ghost:hover{ background:hsl(var(--card)); }

/* Inputs */
.input{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid hsl(var(--ring));
  background:hsl(var(--card));
  outline:none; transition: box-shadow .15s ease, border-color .15s ease;
}
.theme-dark .input{ border-color:hsl(var(--line)); }
.input:focus-visible{ border-color:hsl(var(--ring)); box-shadow:0 0 0 3px hsl(var(--ring) / .25); }

/* Small inline input */
.input-sm{
  width: 80px;
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid hsl(var(--ring));
  background: hsl(var(--card));
  font-size: .9rem;
}
.theme-dark .input-sm{ border-color: hsl(var(--line)); }

/* Segmented control */
.seg{ display:flex; flex-wrap:wrap; gap:.5rem; }
.seg-btn{
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid hsl(var(--line));
  background: hsl(var(--card));
  color: hsl(var(--text));
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.seg-btn:hover{ background: hsl(var(--elev)); }
.seg-btn--active{
  background: hsl(var(--brand));
  color: hsl(var(--brand-contrast));
  border-color: hsl(var(--brand));
}

/* Hero */
.hero{
  border-radius:var(--radius);
  border:1px solid hsl(var(--line));
  background:
    radial-gradient(60% 50% at 30% -20%, hsl(var(--brand) / .10), transparent 60%),
    linear-gradient(180deg, hsl(var(--elev)) 0%, transparent 50%);
}

/* Header shell */
.header{ @apply sticky top-0 z-30 shadow-sm; }

/* Tool tiles */
.tile{
  background:hsl(var(--card));
  border:1px solid hsl(var(--line));
  border-radius:var(--radius);
  box-shadow:0 3px 14px rgba(0,0,0,.05);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.tile:hover{
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(59,130,246,.20);
  border-color: hsl(var(--ring));
}

/* ===== Uniform tool panels ===== */
.tool-panels{
  display:grid;
  gap:1.5rem;
  grid-template-columns: 1fr;
  align-items: stretch;
}
@media (min-width: 768px){
  .tool-panels{ grid-template-columns: 1fr 1fr; }
}
.tool-panel{
  min-height: 420px;
  height: 100%;
  display: flex;
  flex-direction: column;
}
.tool-panels > * { min-width: 0; }
.tool-panel { min-width: 0; }
.card { min-width: 0; }
textarea.input { width: 100%; min-width: 0; overflow-wrap: anywhere; }
.seg { flex-wrap: wrap; }
